/*!40101 SET NAMES utf8 */;
/*!40101 SET SQL_MODE=''*/;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`exam` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `exam`;


/*Table structure for table `Examination_classroom` */
DROP TABLE IF EXISTS `Examination_classroom`;
CREATE TABLE `Examination_classroom` (
  `classroom_id` varchar(20) NOT NULL,
  `address` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`classroom_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `Examination_classroom` */
insert  into `Examination_classroom`(`classroom_id`,`address`) values ('A-101','调试教室1'),('A-102','调试教室2');




/*Table structure for table `student` */
DROP TABLE IF EXISTS `student`;
CREATE TABLE `student` (
  `id` int(10) NOT NULL COMMENT '学生学号',
  `NAME` varchar(20) NOT NULL COMMENT '学生姓名',
  `Admission_number` int(20) DEFAULT NULL COMMENT '准考证号',
  `classroom_id` char(12) DEFAULT NULL COMMENT '考场号',
  `seat` int(10) NOT NULL COMMENT '座位号',
  PRIMARY KEY (`id`),
  KEY `s_classroom_id` (`classroom_id`),
  CONSTRAINT `s_classroom_id` FOREIGN KEY (`classroom_id`) REFERENCES `Examination_classroom` (`classroom_id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `student` */
insert  into `student`(`id`,`NAME`,`Admission_number`,`classroom_id`,`seat`) values (20194699,'周道滢',20220606,'A-101',001);
insert  into `student`(`id`,`NAME`,`Admission_number`,`classroom_id`,`seat`) values (20194682,'李鸿昊',20220607,'A-101',002);


/*Table structure for table `camera` */
DROP TABLE IF EXISTS `camera`;
CREATE TABLE `camera` (
  `camera_id` int(20) NOT NULL COMMENT '摄像头编号',
  `classroom` varchar(10) DEFAULT NULL COMMENT '教室编号',
  `type` varchar(20) NOT NULL COMMENT '摄像头类型',
  PRIMARY KEY (`camera_id`),
  KEY `c_classroom_id` (`classroom`),
  CONSTRAINT `c_classroom_id` FOREIGN KEY (`classroom`) REFERENCES `Examination_classroom` (`classroom_id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `camera` */
insert  into `camera`(`camera_id`,`classroom`,`type`) values ('1001','A-101','场外摄像头'),('1002','A-101','场内摄像头'),('2001','A-102','场外摄像头'),('2002','A-102','场内摄像头');




/*Table structure for table `Suspected_cheating` */
DROP TABLE IF EXISTS `Suspected_cheating`;
CREATE TABLE `Suspected_cheating` (
  `stu_id` int(10) NOT NULL COMMENT '学生id',
  `cheat_type` varchar(20) NOT NULL COMMENT '作弊类型',
  KEY `s_stu_id`(`stu_id`),
  CONSTRAINT `s_stu_id` FOREIGN KEY (`stu_id`) REFERENCES `student` (`id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `Suspected_cheating` */
insert  into `Suspected_cheating`(`stu_id`,`cheat_type`) values (20194699,'转头偷看'),(20194699,'携带违禁物品');


/*Table structure for table `teacher` */
DROP TABLE IF EXISTS `teacher`;
CREATE TABLE `teacher` (
  `teacher_id` int(11) NOT NULL COMMENT '教师id',
  `NAME` varchar(20) DEFAULT NULL COMMENT '教师姓名',
  PRIMARY KEY (`teacher_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `teacher` */
insert  into `teacher`(`teacher_id`,`NAME`) values (0001,'监考教师1'),(0002,'监考教师2');


/*Table structure for table `exam_course` */
DROP TABLE IF EXISTS `exam_course`;
CREATE TABLE `exam_course` (
  `exam_id` int(12) NOT NULL COMMENT '考试编号',
  `exam_name` varchar(10) NOT NULL COMMENT '考试科目名称',
  `teacher_id` int(12) NOT NULL COMMENT '监考教师id',
  PRIMARY KEY (`exam_id`),
  KEY `e_teacher_id` (`teacher_id`),
  CONSTRAINT `e_teacher_id` FOREIGN KEY (`teacher_id`) REFERENCES `teacher` (`teacher_id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `exam_course` */
insert  into `exam_course`(`exam_id`,`exam_name`,`teacher_id`) values (20220001,'操作系统',0001),(20220002,'数据库',0002);



/*Table structure for table `unmasked` */
DROP TABLE IF EXISTS `unmasked`;
CREATE TABLE `unmasked` (
  `student_id` int(11) NOT NULL COMMENT '学生学号',
  `detect_time` varchar(50) NOT NULL COMMENT '记录时间',
  KEY `u_student_id` (`student_id`),
  CONSTRAINT `u_student_id` FOREIGN KEY (`student_id`) REFERENCES `student` (`id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `unmasked` */
insert  into `unmasked`(`student_id`,`detect_time`) values (20194699,'2022-04-10 22:10:00');



/*Table structure for table `face` */
DROP TABLE IF EXISTS `face`;
CREATE TABLE `face` (
  `student_id` int(11) NOT NULL COMMENT '学生学号',
  `face_imformation` varchar(5000) NOT NULL COMMENT '面部信息',
  KEY `face_student_id` (`student_id`),
  CONSTRAINT `face_student_id` FOREIGN KEY (`student_id`) REFERENCES `student` (`id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `face` */
insert  into `face`(`student_id`,`face_imformation`) values (20194699,'-0.15878786146640778 0.09763496369123459 0.09989442676305771 0.022670775651931763 -0.08728817850351334 -0.1036810651421547 -0.1058560460805893 -0.12666796147823334 0.10020507127046585 -0.04463854432106018 0.20649170875549316 -0.06341615319252014 -0.1948760598897934 -0.11356665939092636 -0.00764548871666193 0.1816713511943817 -0.17944540083408356 -0.0956074595451355 0.005607873201370239 0.001900605857372284 0.09606826305389404 -0.02923533320426941 0.07077786326408386 0.01697509177029133 -0.12370017170906067 -0.4086120128631592 -0.08859747648239136 -0.13537125289440155 0.01058381237089634 0.03599110245704651 -0.03297442942857742 0.04411815479397774 -0.14911885559558868 -0.09414514899253845 0.032741811126470566 0.06565482169389725 0.02568083442747593 -0.048106808215379715 0.22545306384563446 -0.052735574543476105 -0.2677951157093048 -0.05217886343598366 0.07317753881216049 0.20725810527801514 0.1719917356967926 0.09534238278865814 0.08636736869812012 -0.08615081012248993 0.1286306232213974 -0.12644018232822418 0.060337502509355545 0.11789364367723465 0.038418520241975784 0.04316544905304909 0.02647629752755165 -0.14971831440925598 0.0606023445725441 0.089207224547863 -0.1730567067861557 -0.019124779850244522 0.10390837490558624 -0.07779058068990707 0.006194744259119034 -0.03920520097017288 0.27982237935066223 0.06653687357902527 -0.08998934924602509 -0.13612203299999237 0.12933987379074097 -0.1277886927127838 -0.0654093399643898 0.03579914569854736 -0.17912466824054718 -0.15296509861946106 -0.3806594908237457 0.0027849432080984116 0.3958020806312561 0.09075171500444412 -0.15263907611370087 0.04843918979167938 -0.02788662537932396 -0.03069125860929489 0.1468966007232666 0.19840970635414124 -0.006786983460187912 0.05614503473043442 -0.06445136666297913 -0.051725395023822784 0.2003638595342636 -0.03666243329644203 -0.0343499481678009 0.20542769134044647 0.007072370499372482 0.08681603521108627 0.016351260244846344 0.0167173333466053 -0.0766807347536087 0.027013957500457764 -0.10555101186037064 -0.006818836554884911 0.07035941630601883 0.01998726651072502 0.041508931666612625 0.11414965987205505 -0.17790523171424866 0.06324471533298492 -0.01698341593146324 0.06822753697633743 0.0021458780393004417 -0.001598374918103218 -0.082621268928051 -0.09297334402799606 0.1053793653845787 -0.1694423407316208 0.17094570398330688 0.17512471973896027 0.05559990555047989 0.13366350531578064 0.13208317756652832 0.06289273500442505 -9.481236338615417e-05 0.012602017261087894 -0.20770145952701569 -0.003598665352910757 0.12020550668239594 -0.03246404975652695 0.11183956265449524 0.050564855337142944');
insert  into `face`(`student_id`,`face_imformation`) values (20194682,'-0.04126421734690666 0.08374212682247162 0.04197695478796959 -0.05145960673689842 -0.05985912308096886 -0.03685910627245903 -0.11665619909763336 -0.12516900897026062 0.09939587861299515 -0.05781228467822075 0.20663827657699585 -0.0074541023932397366 -0.20003974437713623 -0.10149993002414703 -0.05926203727722168 0.19249171018600464 -0.15610791742801666 -0.15484565496444702 -0.05043300613760948 0.007909323088824749 0.0652046799659729 -0.001258079195395112 0.06335259228944778 0.012924689799547195 -0.15089046955108643 -0.28376996517181396 -0.1157953217625618 -0.05698774755001068 -0.032618943601846695 -0.00833660177886486 -0.09617743641138077 0.07441285997629166 -0.15986160933971405 -0.06895393133163452 0.09289728105068207 0.14131629467010498 -0.01434055995196104 -0.045131005346775055 0.1916303187608719 0.02757217362523079 -0.19441954791545868 0.061693225055933 0.048998892307281494 0.23192378878593445 0.1858181208372116 0.07616744190454483 0.07819949835538864 -0.12998418509960175 0.07205864787101746 -0.1964263916015625 0.08758711814880371 0.17410165071487427 0.11225902289152145 0.09863944351673126 -0.04599415883421898 -0.09963308274745941 0.0818130150437355 0.09640437364578247 -0.08657379448413849 3.135926090180874e-05 0.1356237381696701 -0.07785461097955704 -0.05527455359697342 -0.05305873602628708 0.2209356725215912 0.10162786394357681 -0.15554192662239075 -0.16243009269237518 0.06307246536016464 -0.11129956692457199 -0.16412895917892456 0.008664875291287899 -0.1896498203277588 -0.12889789044857025 -0.3487977385520935 0.0028215311467647552 0.4081592857837677 0.09108690917491913 -0.2183525711297989 0.036592237651348114 -0.034975890070199966 0.038273729383945465 0.09012440592050552 0.14732961356639862 -0.08058176189661026 0.044796932488679886 -0.08242864161729813 0.01966521330177784 0.24126997590065002 -0.07286976277828217 -0.052532218396663666 0.18077942728996277 0.03349275141954422 0.16648641228675842 0.03071797452867031 0.07482832670211792 0.030206598341464996 0.031578656286001205 -0.09287314862012863 0.04811311885714531 0.08813922107219696 -0.0044630104675889015 0.00044676451943814754 0.13653062283992767 -0.13374477624893188 0.13218148052692413 -0.02534763142466545 0.056207604706287384 0.06318523734807968 0.029431546106934547 -0.10729113221168518 -0.09844739735126495 0.121676966547966 -0.19257308542728424 0.16722960770130157 0.23840399086475372 0.043080300092697144 0.03807242587208748 0.17790637910366058 0.11688020080327988 0.0007881531491875648 0.028636321425437927 -0.2250349223613739 -0.057358268648386 0.09921251982450485 -0.010537512600421906 0.08339280635118484 0.04050377756357193');



/*Table structure for table `sign` */
DROP TABLE IF EXISTS `sign`;
CREATE TABLE `sign` (
  `signtime` datetime NOT NULL COMMENT '签到时间',
  `stu_id` int(11) NOT NULL COMMENT '学生id',
  `exam_id` int(11) NOT NULL COMMENT '考试编号',
  KEY `s_id` (`stu_id`),
  KEY `s_exam_id` (`exam_id`),
  CONSTRAINT `s_exam_id` FOREIGN KEY (`exam_id`) REFERENCES `exam_course` (`exam_id`) ON UPDATE CASCADE,
  CONSTRAINT `s_id` FOREIGN KEY (`stu_id`) REFERENCES `student` (`id`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*Data for the table `sign` */
insert  into `sign`(`signtime`,`stu_id`,`exam_id`) values ('2022-04-10 22:10:00',20194699,0001),('2022-04-10 22:10:12',20194699,0002),('2022-04-10 22:11:06',20194699,0001);





/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
